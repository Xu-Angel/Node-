>直到 Node 10.5.0 的发布，官方才给出了一个实验性质的模块 worker_threads 给 Node 提供真正的多线程能力。

根据大学课本上的说法：“进程是资源分配的最小单位，线程是CPU调度的最小单位”，这句话应付考试就够了，但是在实际工作中，我们还是要根据需求合理选择。

下面对比一下多线程与多进程：



属性
多进程
多线程
比较




数据
数据共享复杂，需要用IPC；数据是分开的，同步简单
因为共享进程数据，数据共享简单，同步复杂
各有千秋


CPU、内存
占用内存多，切换复杂，CPU利用率低
占用内存少，切换简单，CPU利用率高
多线程更好


销毁、切换
创建销毁、切换复杂，速度慢
创建销毁、切换简单，速度很快
多线程更好


coding
编码简单、调试方便
编码、调试复杂
多进程更好


可靠性
进程独立运行，不会相互影响
线程同呼吸共命运
多进程更好


分布式
可用于多机多核分布式，易于扩展
只能用于多核分布式
多进程更好



上述比较仅表示一般情况，并不绝对。
work_thread 让 Node 有了真正的多线程能力，算是不小的进步。

作者：腾讯IVWEB团队
链接：https://juejin.im/post/5c63b5676fb9a049ac79a798
来源：掘金
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

https://juejin.im/post/5c63b5676fb9a049ac79a798